const n=n=>n?n.toString().replace(/"/g,"&quot;").replace(/'/g,"&apos;"):"",t=n=>null==n;class e extends HTMLElement{constructor(){super()}connectedCallback(){this.props=(n=>{const e=(n=>n.find((n=>"data"===n.nodeName)))([...n]),a=[...n].filter((n=>"data"!==n.nodeName)).reduce(((n,t)=>({...n,[t.nodeName]:t.nodeValue})),{});if(t(e))return a;try{return{...a,...JSON.parse(e.nodeValue)}}catch(n){console.log("ERROR: No data",n)}})(this.attributes),this.classes=this.createClasses(),this.render()}createClasses(){const{padding_top:n,padding_bottom:t}=this.props.layout,e="nb-hero-banner-dispatch";return{base:e,container:[e,n,t].join(" ")}}render(){const{layout:n,campaign:t,copywriting:e}=this.props,{contrast:a,background_color:s,background:i}=n,{text:r=""}=e;this.innerHTML=`\n            <nb-container\n                background_color="${s}"\n                background_retina="${i.retina}"\n                background_desktop="${i.desktop}"\n                background_mobile="${i.mobile}"\n                campaign_id="${t.id}"\n                campaign_name="${t.name}"\n                campaign_position="${t.position}"\n                campaign_creative="${t.creative}"\n                contrast="${a}"\n                classname="${this.classes.container}"\n            >\n              <div class="${this.classes.base}__content">\n                  ${this.renderImg()}\n                  ${this.renderTitle()}\n                  ${r&&`<p class='t-md-400-sl ${this.classes.base}__text'>${r}</p>`}\n                  ${this.renderCtas()}\n              </div>\n          </nb-container>\n          `}renderImg(){const{visualHero:n}=this.props.copywriting;return`<div class="${this.classes.base}__visual">\n                <img loading="lazy" src="${n.image}" alt="${n.alt_text}" title="${n.alt_text}" />\n            </div>`}renderTitle(){const{heading:n}=this.props.copywriting;return`\n            ${n&&`<h1 class='t-md-400 ${this.classes.base}__title'>${n}</h1>`}\n            `}renderCtas(){const{campaign:t,copywriting:e}=this.props,{ctas:a=[]}=e;return a&&a.length?a.map((e=>{const{label:a}=e;if(""===a)return"";e.campaign_id=t.id||"",e.campaign_name=t.name||"",e.campaign_position=t.position||"",e.campaign_creative=t.creative||"";return`<nb-cta data="${(t=>n(JSON.stringify(t)))(e)}" class="nb-hero-banner-dispatch__cta">${a}</nb-cta>`})).join(""):""}}customElements.get("nb-hero-banner-dispatch")||customElements.define("nb-hero-banner-dispatch",e);export{e as default};
