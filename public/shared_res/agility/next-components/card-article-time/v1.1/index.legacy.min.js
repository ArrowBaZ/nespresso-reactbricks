window.gtmDataObject=window.gtmDataObject||[];const e=e=>{window.gtmDataObject.push({event:"impression",eventRaisedBy:"Web component",eventAction:"Promo Impression - On Scroll",ecommerce:{},...e})};class t extends class{constructor(e,t){this.observer=new IntersectionObserver((e=>this.onChange(e)),{threshold:[0],rootMargin:"0% 0%"}),this.el=e,this.data=t,this.el instanceof Element&&this.observer.observe(this.el)}onChange(e){e.forEach((e=>{e.isIntersecting&&(this.track(e),this.observer.unobserve(e.target))}))}track(){window.requestIdleCallback((()=>this.runTrack()))}runTrack(){this.data.id&&null!==this.data.id&&""!==this.data.id&&e({ecommerce:{promoView:{promotions:[this.data]}}})}}{constructor(e,t){super(e),this.data=t}runTrack(){this.data.id&&null!==this.data.id&&""!==this.data.id&&e({ecommerce:{promoView:{promotions:[this.data]}}})}}const n=e=>null==e;class s extends HTMLElement{connectedCallback(){this.props=(e=>{const t=(e=>e.find((e=>"data"===e.nodeName)))([...e]),s=[...e].filter((e=>"data"!==e.nodeName)).reduce(((e,t)=>({...e,[t.nodeName]:t.nodeValue})),{});if(n(t))return s;try{return{...s,...JSON.parse(t.nodeValue)}}catch(e){console.log("ERROR: No data",e)}})(this.attributes),this.classes=this.createClasses(),this.render(),this.initTracking()}createClasses(){const{layout:e}=this.props;if(!e)return;const{contrast:t="light"}=e,n="nb-card-article";return{base:`${n} ${n}--${t}`,heading:`${n}__heading h-lg-500`,description:`${n}__description t-sm-400`,visual:`${n}__visual`}}render(){const{copywriting:e}=this.props;e&&(this.classes.base.split(" ").map((e=>this.classList.add(e))),this.innerHTML=this.renderInner())}renderInner(){return`${this.renderCategory()}\n                ${this.renderVisual()}\n                ${this.renderHeading()}\n                ${this.renderDescription()}\n                ${this.renderLink()}`}renderHeading(){const{heading:e=""}=this.props.copywriting;return e?`<p class="${this.classes.heading}">${e}</p>`:""}renderDescription(){const{description:e=""}=this.props.copywriting;return e?`<p class="${this.classes.description}">${e}</p>`:""}renderCategory(){const{category:{label:e="",target:t="",size:n="large"}={}}=this.props.copywriting,{contrast:s}=this.props.layout;if(!e||!t)return"";return`\n            <nb-link\n                color="${"dark"===s?"white":"black"}"\n                icon_right="ui_general_arrow-right"\n                link="${t}"\n                size="${n}"\n                title="${e}"\n                cta_link_type="true"\n            >${e}</nb-link>\n        `}renderLink(){const{campaign:e}=this.props,{link:t}=this.props.copywriting;return t&&t.label?`<nb-link\n                custom_tracking="true"\n                seo_label="${t.seo_label||""}"\n                tracking_label="${t.tracking_label||""}"\n                campaign_id="${e.id||""}"\n                campaign_name="${e.name||""}"\n                campaign_position="${e.position||""}"\n                campaign_creative="${e.creative||""}"\n                color="${t.color}"\n                link="${t.link}"\n                size="${t.size}"\n                title="${t.label}"\n            >${t.label}</nb-link>`:""}renderVisual(){const{visual:{src:e="",alt:t=""}={}}=this.props.copywriting;return e?`<img loading=lazy class="${this.classes.visual}" src="${e}" alt="${t}" />`:""}initTracking(){const{campaign:e}=this.props;if(!e)return;const{id:n,name:s,creative:i,position:r}=e;!function(e,n){const s=new t(e,n)}(this,{id:n,name:s,position:r,creative:i})}}customElements.get("nb-card-article")||customElements.define("nb-card-article",s);class i extends s{constructor(){super()}createClasses(){const e="nb-card-article-time";return{base:e,card:`${e}__card`,caption:`${e}__caption`,description:`${e}__description t-sm-400`,heading:`${e}__heading h-lg-500`,location:`${e}__location t-xs-500-sl`,side:`${e}__side`,time:`${e}__time t-xs-500-sl`,visual:`${e}__visual`}}renderInner(){return`${this.renderSide()}\n        <div class="${this.classes.card}">\n                ${this.renderVisual()}\n                <div class="${this.classes.caption}">\n                    ${this.renderLocation()}\n                    ${this.renderHeading()}\n                    ${this.renderDescription()}\n                    ${this.renderLink()}\n                </div>\n        </div>`}renderSide(){const{time:e}=this.props.copywriting;return e?`<div class="${this.classes.side}">\n                    <p class="${this.classes.time}">${e}</p>\n                </div>`:""}renderLocation(){const{location:e=""}=this.props.copywriting;return e?`<p class="${this.classes.location}">${e}</p>`:""}}customElements.get("nb-card-article-time")||customElements.define("nb-card-article-time",i);export{i as default};
