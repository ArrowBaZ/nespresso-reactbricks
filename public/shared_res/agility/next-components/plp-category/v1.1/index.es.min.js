const e=e=>null==e;class t extends HTMLElement{constructor(){super(),this.slot=this.innerHTML}connectedCallback(){this.props=(t=>{const n=(e=>e.find((e=>"data"===e.nodeName)))([...t]),r=[...t].filter((e=>"data"!==e.nodeName)).reduce(((e,t)=>({...e,[t.nodeName]:t.nodeValue})),{});if(e(n))return r;try{return{...r,...JSON.parse(n.nodeValue)}}catch(e){console.log("ERROR: No data",e)}})(this.attributes),this.render()}render(){const{segments:e="false",background_retina:t="https://www.nespresso.com/shared_res/agility/next-components/assets/backgrounds/barista_creation_range_L.jpg",background_desktop:n="https://www.nespresso.com/shared_res/agility/next-components/assets/backgrounds/barista_creation_range_L.jpg",background_mobile:r="https://www.nespresso.com/shared_res/agility/next-components/assets/backgrounds/barista_creation_range_L.jpg",background_tablet:s="",contrast:a="dark",name:o="",description:c="",cta_text:i="",cta_link:l=""}=this.props;this.innerHTML=`\n            <article class='cb-plp-category ${"true"===e?"wSegments":"woSegments"}'>\n                <nb-container\n                    classname="cb-plp-category--header"\n                    contrast='${a}'\n                    background_retina='${t}'\n                    background_desktop='${n}'\n                    background_mobile='${r}'\n                    background_tablet='${s}'\n                >\n                    <header>\n                        ${o?this.renderHeading(o):""}\n                        <div class="cb-plp-category--description">\n                            ${c&&this.renderDescription(c)}\n                            ${l&&i&&this.renderCTA(l,i)}\n                        </divc>\n                    </header>\n                </nb-container>\n                <nb-container classname="cb-plp-category--coffees" contrast='light'>\n                    ${"true"===e?this.renderWithSegment():this.renderWithoutSegment()}\n                </nb-container>\n            </article>\n        `,this.setDesktopSegmentMarginTop()}setDesktopSegmentMarginTop(){let e=0,t=0;const n=this.querySelector("header");if(!n)return;const r=getComputedStyle(n);e=n.clientHeight-parseFloat(r.paddingBottom);const s=n.querySelector("h1");if(!s)return;const a=getComputedStyle(s);t=s.clientHeight+parseFloat(a.marginBottom);const o=e-t;n.closest(".cb-plp-category").style.setProperty("--woSegments-coffees-margin-top","-"+o+"px")}renderWithSegment(){return`${this.slot}`}renderWithoutSegment(){return`<div class="cb-plp-category--segment">\n            <div class='cb-plp-category--side'></div>\n            <div class='cb-plp-category--center'>${this.slot}</div>\n        </div>`}renderHeading(e){return`<h2 class="h-2xl-700-sl cb-plp-category--title">${e}</h2>`}renderDescription(e){return`<p class="t-md-400">${e}</p>`}renderCTA(e,t){const{contrast:n}=this.props;return`<nb-link class="top-range-link" color='${"dark"===n?"white":"black"}' size='large' link='${e}' seo_label="${t}">${t}</nb-link>`}}customElements.get("nb-plp-category")||customElements.define("nb-plp-category",t);export{t as default};
