const e=(()=>{let e=null,t=0;const n=()=>{const n=e.getAttribute("sticky")||"false";let s=0,i=!1,o={};for(var l=0;l<e.parentElement.childNodes.length&&(e.parentElement.childNodes[l].tagName&&e.parentElement.childNodes[l].tagName===e.tagName&&(o=e.parentElement.childNodes[l+2],o&&(s=o.offsetTop-80,i=!0)),!i);l++);i&&0===s&&(s=e.parentElement.offsetTop+e.parentElement.offsetHeight);const r=window.scrollY-s>0;"true"===n!==r&&(e.setAttribute("sticky",r),t>0&&(document.body.style.paddingTop=r?t+"px":"0px"))},s=()=>{window.addEventListener("scroll",n)},i=()=>{window.removeEventListener("scroll",n)};return{initialize:(i,o=t)=>{e=i,t=o,e.setAttribute("sticky","false"),e.classList.add("nb-sticky-container"),n(),s()},destroy:()=>{i()},updatePosition:(t=0)=>{const n=document.querySelector(".Header__top")?.getBoundingClientRect()||{height:0,y:0},s=n.height,i=`${n.y+s+t}px`;return e.style.top=i,0}}})(),t=e=>e?e.toString().replace(/"/g,"&quot;").replace(/'/g,"&apos;"):"",n=e=>null==e;class s extends HTMLElement{constructor(){super(),this.template=""}connectedCallback(){this.props=this._createProps(),this.onStart?.(),this.loadTemplate(),this.onReady?.()}_createProps(e=null){const t=e||this.attributes;let n;try{n=[...t].reduce(((e,t)=>({...e,[t.nodeName]:t.nodeValue})),{});const e=[...t].find((e=>"data"===e.nodeName));return null==e?n:{...n,...JSON.parse(e.nodeValue)}}catch(e){console.log("ERROR: No data",e)}}render(e=!1){e&&(this.innerHTML="");const t=(e,n)=>{const s=e=>3===e.nodeType?"text":8===e.nodeType?"comment":e.tagName.toLowerCase(),i=e=>e.childNodes&&e.childNodes.length>0?null:e.textContent;var o=Array.prototype.slice.call(n.childNodes),l=Array.prototype.slice.call(e.childNodes),r=o.length-l.length;if(r>0)for(;r>0;r--)o[o.length-r].parentNode.removeChild(o[o.length-r]);l.forEach((function(e,l){if(o[l])if(s(e)===s(o[l])){var r=i(e);if(r&&r!==i(o[l])&&(o[l].textContent=r),o[l].childNodes.length>0&&e.childNodes.length<1)o[l].innerHTML="";else{if(o[l].childNodes.length<1&&e.childNodes.length>0){var a=document.createDocumentFragment();return t(e,a),void o[l].appendChild(a)}e.childNodes.length>0&&t(e,o[l])}}else o[l].parentNode.replaceChild(e.cloneNode(!0),o[l]);else n.appendChild(e.cloneNode(!0))}))},n=(s=this.template,(new DOMParser).parseFromString(s,"text/html").body);var s;t(n,this)}loadTemplate(e="",t=!1){this.template=""===e?this.template:`${e}`,this.render(t)}disconnectedCallback(){this.onDestroy?.()}}customElements.get("nb-nespresso-element")||customElements.define("nb-nespresso-element",s);class i extends HTMLElement{constructor(){super(),this.isSticky=!1,this.isMobile=window.innerWidth<768}static get observedAttributes(){return["sticky"]}connectedCallback(){this.props=(e=>{const t=(e=>e.find((e=>"data"===e.nodeName)))([...e]),s=[...e].filter((e=>"data"!==e.nodeName)).reduce(((e,t)=>({...e,[t.nodeName]:t.nodeValue})),{});if(n(t))return s;try{return{...s,...JSON.parse(t.nodeValue)}}catch(e){console.log("ERROR: No data",e)}})(this.attributes),this.isSticky=!0===this.props.isSticky;const t=this.isMobile?252:220;this.isSticky&&e.initialize(this,t),this.render()}attributeChangedCallback(e,t,n){"sticky"===e&&this.props&&n!==t&&(this.props.sticky=n,this.update())}render(){const e=(n=this.props,t(JSON.stringify(n)));var n;this.innerHTML=`<div class="nb-bubbles-bar">\n            <nb-navigation-bubbles\n                data='${e}'\n                ></nb-navigation-bubbles>\n        </div>`}update(){this.render();const t=document.querySelector("nb-dynamic-banner"),n=t?"true"===t.getAttribute("sticky_desktop"):null;let s=0;!this.isMobile&&n&&(s=t.clientHeight),this.isSticky&&e.updatePosition(s)}disconnectedCallback(){this.isSticky&&e.destroy()}}customElements.get("nb-bubbles-bar")||customElements.define("nb-bubbles-bar",i);export{i as default};
