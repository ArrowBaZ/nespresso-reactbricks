class e{constructor(){this.promise=new Promise(((e,t)=>{this.reject=t,this.resolve=e}))}}class t extends HTMLElement{constructor(){super(),this.template=""}connectedCallback(){this.props=this._createProps(),this.onStart?.(),this.loadTemplate(),this.onReady?.()}_createProps(e=null){const t=e||this.attributes;let n;try{n=[...t].reduce(((e,t)=>({...e,[t.nodeName]:t.nodeValue})),{});const e=[...t].find((e=>"data"===e.nodeName));return null==e?n:{...n,...JSON.parse(e.nodeValue)}}catch(e){console.log("ERROR: No data",e)}}render(e=!1){e&&(this.innerHTML="");const t=(e,n)=>{const o=e=>3===e.nodeType?"text":8===e.nodeType?"comment":e.tagName.toLowerCase(),r=e=>e.childNodes&&e.childNodes.length>0?null:e.textContent;var i=Array.prototype.slice.call(n.childNodes),s=Array.prototype.slice.call(e.childNodes),l=i.length-s.length;if(l>0)for(;l>0;l--)i[i.length-l].parentNode.removeChild(i[i.length-l]);s.forEach((function(e,s){if(i[s])if(o(e)===o(i[s])){var l=r(e);if(l&&l!==r(i[s])&&(i[s].textContent=l),i[s].childNodes.length>0&&e.childNodes.length<1)i[s].innerHTML="";else{if(i[s].childNodes.length<1&&e.childNodes.length>0){var a=document.createDocumentFragment();return t(e,a),void i[s].appendChild(a)}e.childNodes.length>0&&t(e,i[s])}}else i[s].parentNode.replaceChild(e.cloneNode(!0),i[s]);else n.appendChild(e.cloneNode(!0))}))},n=(o=this.template,(new DOMParser).parseFromString(o,"text/html").body);var o;t(n,this)}loadTemplate(e="",t=!1){this.template=""===e?this.template:`${e}`,this.render(t)}disconnectedCallback(){this.onDestroy?.()}}customElements.get("nb-nespresso-element")||customElements.define("nb-nespresso-element",t);const n={Deferred:e};window.nwcFoundations=n;async function o(){if(window.location.hash&&window.location.hash.substring(1)&&(window.removeEventListener("WEB_COMPONENT_ANCHOR_LOADED",o),window.removeEventListener("WEB_COMPONENT_PROJECTS_LOADED",o)),!window.location.hash)return;const t=window.location.hash.substring(1);if(!t)return;await async function(){const e=[];window.nwc.projects.forEach((t=>t.components.forEach((t=>t.el&&null!=t.el.ready&&e.push(t.el.ready))))),await Promise.all(e)}();const n=document.querySelector(`[data-id="${t}"]`);n&&await((t,n={})=>{const o={scrollPaddingTop:140,scrollDuration:300,...n},r=new e;let i;const s=typeof t;if(["string","object"].indexOf(s)>-1){i=t,"string"===s&&(i=document.querySelector(t));try{t=window.pageYOffset+i.getBoundingClientRect().top-o.scrollPaddingTop}catch(e){throw new Error(`error: No element found with the selector "${t}"`)}}else"number"!=typeof t&&(t=0);let l=window.performance.now(),a=0,d=window.pageYOffset-t,c=window.innerHeight,h=document.body.clientHeight;d>c&&h-c>0&&(o.scrollDuration=Math.abs(o.scrollDuration+o.scrollDuration*(Math.abs(d)/(h-c))));let w=l+o.scrollDuration;return window.requestAnimationFrame((function e(){let n=window.performance.now();if(n<w){a=(n-l)/o.scrollDuration,a=--a*a*a+1;const r=d*a;window.scrollTo(0,t+(d-r)),window.requestAnimationFrame(e)}else window.scrollTo(0,t),setTimeout((()=>r.resolve()),125);return r.promise})),r.promise})(n)}window.location.hash&&window.location.hash.substring(1)&&(window.addEventListener("WEB_COMPONENT_ANCHOR_LOADED",o),window.addEventListener("WEB_COMPONENT_PROJECTS_LOADED",o)),window.addEventListener("hashchange",o.bind(void 0));
